# 2023/05/06 (土)

## 本日の目標

- [SQL][Level2]: 完了させたい。
- [データベース][Level2]: 少しでも解く。
- インターネットTV: ステップ1テーブル設計、少しでも解く。

## 学習時間

- 6時間

## 目標振り返り

- [SQL][Level2] テーブルを結合できる: 完了。
- インターネットTV: ステップ1を考えた。

## 詰まったこと

- インターネットTV: 仮のテーブル分け中。とても複雑ですねー。

1. channels
2. programm
3. episodes
4. series
5. seasons
6. returns
7. genre


### KPI集計方法
> KPI: エピソードごとに記録された視聴数を、属するチャンネルと番組枠ごとに集計する
- エピソードごとに視聴数を記録 => チャンネルと番組枠に関する情報も記録する。

> 再放送もあるため、ある番組が複数チャンネルの異なる番組枠で放映されることはある

- 集計時: 同エピソードが別枠で放送された場合、各チャンネルと番組枠ごとに視聴数を合算する。

## 学んだこと

### 1. 内部結合
> 部署マネージャーテーブルに、従業員テーブルのデータを内部結合させた全データを取得してください。
- テーブルemployeesには、従業員の情報。従業員のID、名前、生年月日、雇用日など。
- テーブルdept_managerには、部門マネージャーの情報。従業員のID、所属する部署のID、雇用期間など。
- JOIN句: 2つのテーブルを結合する。従業員のID（emp_no）をキーとして、employeesテーブルとdept_managerテーブルをJOIN。
- SELECT *: 両方のテーブルからすべてのカラムを取得するために使用。
- JOIN条件: employeesテーブルとdept_managerテーブルのemp_noカラムが等しいことを指定。

```sql
SELECT * FROM employees JOIN dept_manager ON employees.emp_no = dept_manager.emp_no;
```

## 感想

- いままで「DBとかクエリって楽しいな」と思っていた。
- 今回のQUESTを通じて、DBめちゃめちゃ複雑でやばい...と気づいた。自分が触ってたレベルがLv.5くらいだったと...。


## 明日の目標

- [SQL][Level2]: クエリを書ける、まで完了させたい。
- [データベース][Level2]: データベースを正規化できる、まで完了させたい。
- インターネットTV: ステップ1テーブル設計の続きを作成。
