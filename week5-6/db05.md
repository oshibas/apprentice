# テーブルを定義できる

テーブル定義では各テーブルに対して、テーブル名、カラム名、データ型、NULL(NULL OK の場合のみ YES と記載)、キー（キーが存在する場合、PRIMARY/INDEX のどちらかを記載）、初期値（ある場合のみ記載）、AUTO INCREMENT（ある場合のみ YES と記載）、外部キー制約、ユニークキー制約を定義します。

## 1. データ型

データ型とは何か、データベース初心者にわかるように説明してください。

データベースに格納される値の種類や形式を決めるもの。

例えば、文字列を格納するための「VARCHAR型」や「TEXT型」、数値を格納するための「INT型」や「FLOAT型」、日付や時刻を格納するための「DATE型」や「DATETIME型」などがある。

データ型を適切に選ぶことで、データベースの性能や正確性を向上させることができる。

## 2. NULL

NULL とは何か、データベース初心者にわかるように説明してください。

値が存在しないことを表す特別な値。NULLは空白やゼロとは異なる。

NULLを含むデータは、一般的な演算や比較では正しく処理されない。NULLと数値を足すとNULLになり、NULLと他の値を比較すると常に偽になる。

NULLを扱う場合は、専用の関数や演算子を使う。例えば、NULLかどうかを判定するには「IS NULL」や「IS NOT NULL」を使う。

## 3. プライマリーキー

プライマリーキーとは何か、データベース初心者にわかるように説明してください。

DBのテーブルにおいて、各行を一意（唯一無二）に識別するための列のこと。
プライマリーキーは、重複した値やNULLを含むことができず、テーブルに一つだけ設定できる。

## 4. 初期値

テーブル定義における初期値(デフォルト値)とは何か、データベース初心者にわかるように説明してください。

列に値が指定されなかった場合に自動的に入る値のこと。
初期値を設定することで、列にNULLが入るのを防ぐことができる。

## 5. AUTO INCREMENT

AUTO INCREMENT とは何か、データベース初心者にわかるように説明してください。

DBのテーブルにおいて、列の値を自動的に連番で増加させる機能のこと。
AUTO INCREMENTを設定することで、プライマリーキーなどの一意な値を簡単に生成することができる。

## 6. 外部キー制約

外部キー制約とは何か、データベース初心者にわかるように説明してください。

データベースのテーブル間の関連性を保証するための制約のこと。
外部キー制約を設定することで、参照先のテーブルに存在しない値やNULLを参照することを防ぐことができる。

## 7. ユニークキー制約

ユニークキー制約とは何か、データベース初心者にわかるように説明してください。

データベースのテーブルにおいて、列の値が重複しないことを保証するための制約のこと。
ユニークキー制約を設定することで、プライマリーキー以外の列でも一意な値を持たせることができる。

## 8. テーブル定義

EC サイトの ER 図を、テーブル定義しましょう。各テーブルのテーブル名、カラム名、データ型、NULL(NULL OK の場合のみ YES と記載)、キー（キーが存在する場合、PRIMARY/INDEX のどちらかを記載）、初期値（ある場合のみ記載）、AUTO INCREMENT（ある場合のみ YES と記載）、外部キー制約、ユニークキー制約を設定してください。


テーブル：users

| カラム名 | データ型     | NULL | キー    | 初期値 | AUTO INCREMENT |
| -------- | ------------ | ---- | ------- | ------ | -------------- |
| id       | bigint(20)   |      | PRIMARY |        | YES            |
| name     | varchar(100) |      |         |        |                |
| email    | varchar(100) |      | INDEX   |        |                |

- ユニークキー制約：email カラムに対して設定

テーブル：comments

| カラム名 | データ型   | NULL | キー    | 初期値 | AUTO INCREMENT |
| -------- | ---------- | ---- | ------- | ------ | -------------- |
| id       | bigint(20) |      | PRIMARY |        | YES            |
| user_id  | bigint(20) | YES  | INDEX   | 0      |                |
| content  | text       |      |         |        |                |

- 外部キー制約：user_id に対して、users テーブルの id カラムから設定

なお、アウトプットはテキストでしていただいてもよいですし、SpreadSheet 等を用いて表形式でしていただいても大丈夫です。

テーブル: users

| カラム名 | データ型     | NULL | キー    | 初期値 | AUTO INCREMENT |
| -------- | ------------ | ---- | ------- | ------ | -------------- |
| id       | bigint(20)   |      | PRIMARY |        | YES            |
| name     | varchar(100) |      |         |        |                |
| email    | varchar(100) |      | INDEX   |        |                |

ユニークキー制約: emailカラムに対して設定

テーブル: products

| カラム名    | データ型     | NULL | キー    | 初期値 | AUTO INCREMENT |
| ----------- | ------------ | ---- | ------- | ------ | -------------- |
| id          | bigint(20)   |      | PRIMARY |        | YES            |
| name        | varchar(100) |      |         |        |                |
| description | text         |      |         |        |                |
| price       | int(11)      |      |         |        |                |
| image_path  | varchar(200) |      |         |        |                |

テーブル: orders

| カラム名    | データ型   | NULL | キー    | 初期値 | AUTO INCREMENT |
| ----------- | ---------- | ---- | ------- | ------ | -------------- |
| id          | bigint(20) |      | PRIMARY |        | YES            |
| user_id     | bigint(20) |      | INDEX   |        |                |
| total_price | int(11)    |      |         |        |                |

外部キー制約: user_id に対して、usersテーブルのidカラムから設定

テーブル: order_details

| カラム名   | データ型   | NULL | キー    | 初期値 | AUTO INCREMENT |
| ---------- | ---------- | ---- | ------- | ------ | -------------- |
| id         | bigint(20) |      | PRIMARY |        | YES            |
| order_id   | bigint(20) |      | INDEX   |        |                |
| product_id | bigint(20) |      | INDEX   |        |                |
| quantity   | int(11)    |      |         | 1      |                |

外部キー制約: order_id に対して、ordersテーブルのidカラムから設定
外部キー制約: product_id に対して、productsテーブルのidカラムから設定
